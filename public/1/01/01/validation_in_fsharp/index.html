<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>JNyman.com</title>
  <meta property="og:title" content="JNyman.com" />
  <meta name="twitter:title" content="JNyman.com" />
  <meta name="description" content="ï¿½ï¿½-ï¿½-ï¿½-ï¿½ ï¿½ ï¿½dï¿½aï¿½tï¿½eï¿½:ï¿½ ï¿½2ï¿½0ï¿½1ï¿½6ï¿½-ï¿½1ï¿½1ï¿½-ï¿½2ï¿½7ï¿½ ï¿½ ï¿½tï¿½iï¿½tï¿½lï¿½eï¿½:ï¿½ ï¿½Vï¿½aï¿½lï¿½iï¿½dï¿½aï¿½tï¿½iï¿½oï¿½nï¿½ ï¿½iï¿½nï¿½ ï¿½Fï¿½#ï¿½ ï¿½ ï¿½tï¿½aï¿½gï¿½sï¿½:ï¿½ ï¿½ ï¿½ ï¿½ ï¿½-ï¿½ ï¿½Fï¿½#ï¿½ ï¿½ ï¿½ ï¿½ ï¿½-ï¿½ ï¿½vï¿½aï¿½lï¿½iï¿½dï¿½aï¿½tï¿½iï¿½oï¿½nï¿½ ï¿½ ï¿½ ï¿½ ï¿½-ï¿½ ï¿½.ï¿½nï¿½eï¿½tï¿½ ï¿½ ï¿½ ï¿½ ï¿½-ï¿½ ï¿½wï¿½eï¿½bï¿½aï¿½pï¿½iï¿½ ï¿½ ï¿½-ï¿½-ï¿½-ï¿½ ï¿½ ï¿½ ï¿½ ï¿½[ï¿½Tï¿½hï¿½eï¿½ ï¿½fï¿½uï¿½lï¿½lï¿½ ï¿½cï¿½oï¿½dï¿½eï¿½ ï¿½fï¿½oï¿½rï¿½ ï¿½tï¿½hï¿½iï¿½sï¿½ ï¿½aï¿½rï¿½tï¿½iï¿½cï¿½lï¿½eï¿½ ï¿½iï¿½sï¿½ ï¿½uï¿½pï¿½ ï¿½oï¿½nï¿½ ï¿½Gï¿½iï¿½tï¿½Hï¿½uï¿½bï¿½.ï¿½]ï¿½(ï¿½hï¿½tï¿½tï¿½pï¿½sï¿½:ï¿½/ï¿½/ï¿½gï¿½iï¿½sï¿½tï¿½.ï¿½gï¿½iï¿½tï¿½hï¿½uï¿½bï¿½.ï¿½cï¿½oï¿½mï¿½/ï¿½jï¿½oï¿½nï¿½4ï¿½9ï¿½/ï¿½cï¿½2ï¿½8ï¿½3ï¿½5ï¿½aï¿½9ï¿½cï¿½8ï¿½5ï¿½bï¿½4ï¿½3ï¿½0ï¿½3ï¿½6ï¿½3ï¿½2ï¿½3ï¿½5ï¿½4ï¿½7ï¿½dï¿½cï¿½3ï¿½7ï¿½0ï¿½6ï¿½eï¿½bï¿½dï¿½2ï¿½)ï¿½ ï¿½ ï¿½ ï¿½ ï¿½Iï¿½ ï¿½lï¿½iï¿½kï¿½eï¿½ ï¿½tï¿½oï¿½ ï¿½tï¿½hï¿½eï¿½ ï¿½kï¿½eï¿½eï¿½pï¿½ ï¿½tï¿½hï¿½iï¿½nï¿½gï¿½sï¿½ ï¿½aï¿½sï¿½ ï¿½sï¿½iï¿½mï¿½pï¿½lï¿½eï¿½ ï¿½aï¿½sï¿½ ï¿½pï¿½oï¿½sï¿½sï¿½iï¿½bï¿½lï¿½eï¿½ ï¿½aï¿½nï¿½dï¿½,ï¿½ ï¿½iï¿½dï¿½eï¿½aï¿½lï¿½lï¿½yï¿½,ï¿½ ï¿½rï¿½eï¿½uï¿½sï¿½aï¿½bï¿½lï¿½eï¿½.ï¿½ ï¿½Aï¿½tï¿½ ï¿½mï¿½yï¿½ ï¿½ ï¿½pï¿½rï¿½eï¿½vï¿½iï¿½oï¿½uï¿½sï¿½ ï¿½eï¿½mï¿½pï¿½lï¿½oï¿½yï¿½mï¿½eï¿½nï¿½tï¿½ ï¿½Iï¿½ ï¿½cï¿½aï¿½mï¿½eï¿½ ï¿½uï¿½pï¿½ ï¿½wï¿½iï¿½tï¿½hï¿½ ï¿½aï¿½ ï¿½mï¿½eï¿½tï¿½hï¿½oï¿½dï¿½ ï¿½oï¿½fï¿½ ï¿½vï¿½aï¿½lï¿½iï¿½dï¿½aï¿½tï¿½iï¿½oï¿½nï¿½,ï¿½ ï¿½bï¿½uï¿½tï¿½ ï¿½Iï¿½ ï¿½wï¿½aï¿½sï¿½ ï¿½nï¿½eï¿½vï¿½eï¿½rï¿½ ï¿½ ï¿½eï¿½nï¿½tï¿½iï¿½rï¿½eï¿½lï¿½yï¿½ ï¿½hï¿½aï¿½pï¿½pï¿½yï¿½ ï¿½wï¿½iï¿½tï¿½hï¿½ ï¿½tï¿½hï¿½eï¿½ ï¿½rï¿½eï¿½sï¿½uï¿½lï¿½tï¿½sï¿½.">
  <meta property="og:description" content="ï¿½ï¿½-ï¿½-ï¿½-ï¿½ ï¿½ ï¿½dï¿½aï¿½tï¿½eï¿½:ï¿½ ï¿½2ï¿½0ï¿½1ï¿½6ï¿½-ï¿½1ï¿½1ï¿½-ï¿½2ï¿½7ï¿½ ï¿½ ï¿½tï¿½iï¿½tï¿½lï¿½eï¿½:ï¿½ ï¿½Vï¿½aï¿½lï¿½iï¿½dï¿½aï¿½tï¿½iï¿½oï¿½nï¿½ ï¿½iï¿½nï¿½ ï¿½Fï¿½#ï¿½ ï¿½ ï¿½tï¿½aï¿½gï¿½sï¿½:ï¿½ ï¿½ ï¿½ ï¿½ ï¿½-ï¿½ ï¿½Fï¿½#ï¿½ ï¿½ ï¿½ ï¿½ ï¿½-ï¿½ ï¿½vï¿½aï¿½lï¿½iï¿½dï¿½aï¿½tï¿½iï¿½oï¿½nï¿½ ï¿½ ï¿½ ï¿½ ï¿½-ï¿½ ï¿½.ï¿½nï¿½eï¿½tï¿½ ï¿½ ï¿½ ï¿½ ï¿½-ï¿½ ï¿½wï¿½eï¿½bï¿½aï¿½pï¿½iï¿½ ï¿½ ï¿½-ï¿½-ï¿½-ï¿½ ï¿½ ï¿½ ï¿½ ï¿½[ï¿½Tï¿½hï¿½eï¿½ ï¿½fï¿½uï¿½lï¿½lï¿½ ï¿½cï¿½oï¿½dï¿½eï¿½ ï¿½fï¿½oï¿½rï¿½ ï¿½tï¿½hï¿½iï¿½sï¿½ ï¿½aï¿½rï¿½tï¿½iï¿½cï¿½lï¿½eï¿½ ï¿½iï¿½sï¿½ ï¿½uï¿½pï¿½ ï¿½oï¿½nï¿½ ï¿½Gï¿½iï¿½tï¿½Hï¿½uï¿½bï¿½.ï¿½]ï¿½(ï¿½hï¿½tï¿½tï¿½pï¿½sï¿½:ï¿½/ï¿½/ï¿½gï¿½iï¿½sï¿½tï¿½.ï¿½gï¿½iï¿½tï¿½hï¿½uï¿½bï¿½.ï¿½cï¿½oï¿½mï¿½/ï¿½jï¿½oï¿½nï¿½4ï¿½9ï¿½/ï¿½cï¿½2ï¿½8ï¿½3ï¿½5ï¿½aï¿½9ï¿½cï¿½8ï¿½5ï¿½bï¿½4ï¿½3ï¿½0ï¿½3ï¿½6ï¿½3ï¿½2ï¿½3ï¿½5ï¿½4ï¿½7ï¿½dï¿½cï¿½3ï¿½7ï¿½0ï¿½6ï¿½eï¿½bï¿½dï¿½2ï¿½)ï¿½ ï¿½ ï¿½ ï¿½ ï¿½Iï¿½ ï¿½lï¿½iï¿½kï¿½eï¿½ ï¿½tï¿½oï¿½ ï¿½tï¿½hï¿½eï¿½ ï¿½kï¿½eï¿½eï¿½pï¿½ ï¿½tï¿½hï¿½iï¿½nï¿½gï¿½sï¿½ ï¿½aï¿½sï¿½ ï¿½sï¿½iï¿½mï¿½pï¿½lï¿½eï¿½ ï¿½aï¿½sï¿½ ï¿½pï¿½oï¿½sï¿½sï¿½iï¿½bï¿½lï¿½eï¿½ ï¿½aï¿½nï¿½dï¿½,ï¿½ ï¿½iï¿½dï¿½eï¿½aï¿½lï¿½lï¿½yï¿½,ï¿½ ï¿½rï¿½eï¿½uï¿½sï¿½aï¿½bï¿½lï¿½eï¿½.ï¿½ ï¿½Aï¿½tï¿½ ï¿½mï¿½yï¿½ ï¿½ ï¿½pï¿½rï¿½eï¿½vï¿½iï¿½oï¿½uï¿½sï¿½ ï¿½eï¿½mï¿½pï¿½lï¿½oï¿½yï¿½mï¿½eï¿½nï¿½tï¿½ ï¿½Iï¿½ ï¿½cï¿½aï¿½mï¿½eï¿½ ï¿½uï¿½pï¿½ ï¿½wï¿½iï¿½tï¿½hï¿½ ï¿½aï¿½ ï¿½mï¿½eï¿½tï¿½hï¿½oï¿½dï¿½ ï¿½oï¿½fï¿½ ï¿½vï¿½aï¿½lï¿½iï¿½dï¿½aï¿½tï¿½iï¿½oï¿½nï¿½,ï¿½ ï¿½bï¿½uï¿½tï¿½ ï¿½Iï¿½ ï¿½wï¿½aï¿½sï¿½ ï¿½nï¿½eï¿½vï¿½eï¿½rï¿½ ï¿½ ï¿½eï¿½nï¿½tï¿½iï¿½rï¿½eï¿½lï¿½yï¿½ ï¿½hï¿½aï¿½pï¿½pï¿½yï¿½ ï¿½wï¿½iï¿½tï¿½hï¿½ ï¿½tï¿½hï¿½eï¿½ ï¿½rï¿½eï¿½sï¿½uï¿½lï¿½tï¿½sï¿½.">
  <meta name="twitter:description" content="ï¿½ï¿½-ï¿½-ï¿½-ï¿½ ï¿½ ï¿½dï¿½aï¿½tï¿½eï¿½:ï¿½ ï¿½2ï¿½0ï¿½1ï¿½6ï¿½-ï¿½1ï¿½1ï¿½-ï¿½2ï¿½7ï¿½ ï¿½ ï¿½tï¿½iï¿½tï¿½lï¿½eï¿½:ï¿½ ï¿½Vï¿½aï¿½lï¿½iï¿½dï¿½aï¿½tï¿½iï¿½oï¿½nï¿½ ï¿½iï¿½nï¿½ ï¿½Fï¿½#ï¿½ ï¿½ ï¿½tï¿½aï¿½gï¿½sï¿½:ï¿½ ï¿½ ï¿½ ï¿½ ï¿½-ï¿½ ï¿½Fï¿½#ï¿½ ï¿½ ï¿½ ï¿½ ï¿½-ï¿½ ï¿½vï¿½aï¿½lï¿½iï¿½dï¿½aï¿½tï¿½iï¿½oï¿½nï¿½ ï¿½ ï¿½ ï¿½ ï¿½-ï¿½ ï¿½.ï¿½nï¿½eï¿½tï¿½ ï¿½ ï¿½ ï¿½ ï¿½-ï¿½ ï¿½wï¿½eï¿½bï¿½aï¿½pï¿½iï¿½ â€¦">
  <meta name="author" content="Jon Nyman"/>
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@NymanJon" />
  <meta name="twitter:creator" content="@NymanJon" />
  <meta property="og:url" content="http://jnyman.com/1/01/01/validation_in_fsharp/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="JNyman.com" />

  <meta name="generator" content="Hugo 0.25.1" />
  <link rel="canonical" href="http://jnyman.com/1/01/01/validation_in_fsharp/" />
  <link rel="alternate" href="http://jnyman.com/index.xml" type="application/rss+xml" title="JNyman.com">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="http://jnyman.com/css/main.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="http://jnyman.com/css/pygment_highlights.css" />
  <link rel="stylesheet" href="http://jnyman.com/css/highlight.min.css" />


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css" integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css" integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin="anonymous" />



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://jnyman.com/">JNyman.com</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        

        

        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
      </div>
    </div>

  </div>
</nav>




    
  
  
  




  <div class="intro-header"></div>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>ÿþ- - - 
 
 d a t e :   2 0 1 6 - 1 1 - 2 7 
 
 t i t l e :   V a l i d a t i o n   i n   F # 
 
 t a g s : 
 
     -   F # 
 
     -   v a l i d a t i o n 
 
     -   . n e t 
 
     -   w e b a p i 
 
 - - - 
 
 
 
 [ T h e   f u l l   c o d e   f o r   t h i s   a r t i c l e   i s   u p   o n   G i t H u b . ] ( h t t p s : / / g i s t . g i t h u b . c o m / j o n 4 9 / c 2 8 3 5 a 9 c 8 5 b 4 3 0 3 6 3 2 3 5 4 7 d c 3 7 0 6 e b d 2 ) 
 
 
 
 I   l i k e   t o   t h e   k e e p   t h i n g s   a s   s i m p l e   a s   p o s s i b l e   a n d ,   i d e a l l y ,   r e u s a b l e .   A t   m y 
 
 p r e v i o u s   e m p l o y m e n t   I   c a m e   u p   w i t h   a   m e t h o d   o f   v a l i d a t i o n ,   b u t   I   w a s   n e v e r 
 
 e n t i r e l y   h a p p y   w i t h   t h e   r e s u l t s .   S o m e   o f   t h e   c o d e   r e p e a t e d   i t s e l f ,   a n d   i t   w a s 
 
 d i f f i c u l t   t o   e x t e n d   t o   a r r a y s   a n d   a r r a y   c o m p a r i s o n .   S o ,   I   w e n t   b a c k   t o   t h e 
 
 d r a w i n g   b o a r d   b u i l d i n g   o n   t o p   o f   t h e   i d e a s   t h a t   I   c r e a t e d   w i t h   t h e   f i r s t 
 
 v a l i d a t i o n   l i b r a r y   I   c r e a t e d . 
 
 
 
 H e r e &lsquo; s   h o w   t h e   o r i g i n a l   A P I   l o o k e d : 
 
 
 
 <code> </code> <code> f s h a r p 
 
 v a l i d a t e   &quot; N a m e &quot;   a . N a m e   [ n o n E m p t y S t r i n g ] 
 
 </code> <code> </code> 
 
 
 
 S o ,   y o u   n e e d e d   t o   a d d   t h e   n a m e   o f   y o u r   p r o p e r t y ,   t h e   p r o p e r t y ,   a n d   a   l i s t   o f 
 
 v a l i d a t o r s   y o u   w o u l d   l i k e   t o   v a l i d a t e .   T h e   l i s t   o f   v a l i d a t o r s   w o u l d   r e t u r n   a 
 
 <code> C h o i c e &lt; s t r i n g ,   ' a &gt; </code> . 
 
 
 
 T h e   n e w   v a l i d a t i o n   h a s   a   p r e t t y   s t r a i g h t   f o r w a r d   A P I   t h a t   i s   u s e d   t h r o u g h o u t . 
 
 Y o u   c a n   v a l i d a t e   a g a i n s t   a n   <code> O b j e c t </code> ,   <code> A r r a y </code> ,   <code> P r i m i t i v e </code> ,   o r   <code> R a w </code>   v a l u e . 
 
 
 
 T h e   <code> O b j e c t </code>   v a l i d a t i o n   v a l i d a t e s   a g a i n s t   e a c h   p r o p e r t y   i n   a   <code> R e c o r d </code> .   I f   o n e 
 
 f a i l s   t h e n   i t   w i l l   c o n t i n u e   t o   v a l i d a t e   t h e   o t h e r   p r o p e r t i e s   a l s o .   B u t   i f 
 
 t h e r e   a r e   m u l t i p l e   v a l i d a t o r s   o n   a   s i n g l e   p r o p e r t y   t h e   f i r s t   f a i l u r e   w i l l 
 
 r e t u r n   b u t   n o t   t h e   o t h e r s .   <code> O b j e c t </code>   h a s   t h e   f o l l o w i n g   s i g n a t u r e : 
 
 
 
 <code> </code> <code> f s h a r p 
 
 |   O b j e c t   o f 
 
         v a l u e   :   E x p r &lt; ' a &gt;   * 
 
         r e q u i r e d   :   b o o l   * 
 
         p r o o f   :   ( ' a   - &gt;   ( s t r i n g   l i s t   o p t i o n )   l i s t ) 
 
 </code> <code> </code> 
 
 
 
 W h e r e   <code> v a l u e </code>   i s   t h e   q u o t a t i o n   v a l u e   o f   t h e   p r o p e r t y   y o u   a r e   t e s t i n g . 
 
 <code> r e q u i r e d </code>   t e s t s   i f   t h e   p r o p e r t y   i s   <code> n u l l </code>   o r   n o t   i f   y o u   m a r k   i t   a s   t r u e , 
 
 o t h e r w i s e   i t   d o e s n &lsquo; t   c a r e   i f   i t   i s   <code> n u l l </code>   o r   n o t .   <code> p r o o f </code>   i s   t h e   l i s t   o f 
 
 p r o v i d e d   v a l i d a t o r s .   A   s i n g l e   v a l i d a t o r   h a s   t h e   s i g n a t u r e 
 
 <code> a   - &gt;   s t r i n g   o p t i o n </code> .   I f   t h e   p r o p e r t y   i s   v a l i d   t h e   v a l i d a t o r   r e t u r n s   <code> N o n e </code> 
 
 o t h e r w i s e   i t   r e t u r n s   <code> S o m e </code>   w i t h   a   m e s s a g e   d e s c r i b i n g   w h y   i t   d i d n &lsquo; t   p a s s 
 
 v a l i d a t i o n . 
 
 
 
 I   l i k e   t h i s   w a y   o f   v a l i d a t i n g   s i n c e   i t   k e e p s   t h i n g s   s i m p l e .   T h e   v a l i d a t o r s   a r e 
 
 r e u s a b l e   f u n c t i o n s   w h i c h   r e t u r n   a   s i m p l e   <code> s t r i n g   o p t i o n </code> .   T h e   v a l i d a t o r s   a r e 
 
 c o m p o s a b l e   f u n c t i o n s   t h a t   c a n   b e   p u t   i n   a   l i s t .   T h e   d i s c r i m i n a t e d   u n i o n 
 
 v a l i d a t i o n   o b j e c t   i s   a l s o   c o m p o s a b l e . 
 
 
 
 S o m e   t h i n g s   t h a t   I   d o n &lsquo; t   l i k e   a b o u t   v a l i d a t i n g   t h i s   w a y .   T h e r e   i s   n o   c o m p i l e 
 
 t i m e   c h e c k   t o   d e t e r m i n e   i f   y o u   v a l i d a t e d   e a c h   f i e l d   i n   a n   o b j e c t .   F o r   t h a t 
 
 m a t t e r   t h e r e   i s   n o   r u n t i m e   t e s t   f o r   t h a t   e i t h e r .   I t   w o u l d   b e   n i c e   t o   h a v e   a 
 
 l e a s t   a   r u n t i m e   w a y   t o   t e l l   i f   a l l   p r o p e r t i e s   w e r e   t e s t e d ,   o r ,   e v e n   b e t t e r ,   a 
 
 c o m p i l e   t i m e   w a y .   B u t   t h i s   w o r k s   f o r   n o w . 
 
 
 
 H e r e &lsquo; s   a n   e x a m p l e   o f   u s i n g   a l l   t h e   v a l i d a t o r s   i n   w i t h   a n   o b j e c t . 
 
 
 
 <code> </code> <code> f s h a r p 
 
 t y p e   P e r s o n   = 
 
         { 
 
         N a m e   :   N a m e 
 
         B i r t h D a t e   :   D a t e T i m e 
 
         F a v o r i t e s   :   s t r i n g [ ] 
 
         F a v o r i t e N u m b e r s   :   i n t [ ] 
 
         } 
 
         s t a t i c   m e m b e r   P r o o f   a   = 
 
                                 [ 
 
                                 p r o v e   &lt; |   P r i m i t i v e   ( &lt; @   a . B i r t h D a t e   @ &gt; ,   t r u e ,   [ ] ) 
 
                                 p r o v e   &lt; |   O b j e c t   ( &lt; @   a . N a m e   @ &gt; ,   t r u e ,   N a m e . P r o o f ) 
 
                                 p r o v e   &lt; | 
 
                                         A r r a y   ( 
 
                                                 &lt; @   a . F a v o r i t e s   @ &gt; , 
 
                                                 t r u e , 
 
                                                 [ a r r a y M i n L e n g t h   1 ] , 
 
                                                 ( f u n   f a v o r i t e   - &gt;   P r i m i t i v e   ( &lt; @   f a v o r i t e   @ &gt; ,   t r u e ,   [ s t r i n g M a x   5 ] )   ) ) 
 
                                 p r o v e   &lt; | 
 
                                         A r r a y   ( 
 
                                                 &lt; @   a . F a v o r i t e N u m b e r s   @ &gt; , 
 
                                                 t r u e , 
 
                                                 [ a r r a y M i n L e n g t h   1 ] , 
 
                                                 f u n   f a v o r i t e   - &gt;   P r i m i t i v e   ( &lt; @   f a v o r i t e   @ &gt; ,   t r u e ,   [ g r e a t e r T h a n   2 ] ) 
 
                                         ) 
 
                                 p r o v e   &lt; | 
 
                                         R a w   ( 
 
                                                 ( a . F a v o r i t e s ,   a . F a v o r i t e N u m b e r s ) , 
 
                                                 &quot; P e r s o n . F a v o r i t e s ,   P e r s o n . F a v o r i t e N u m b e r s &quot; , 
 
                                                 [ 
 
                                                 f u n   ( a ,   b )   - &gt; 
 
                                                         m a t c h   a ,   b   w i t h 
 
                                                         |   n u l l ,   n u l l   |   n u l l ,   _   |   _ ,   n u l l   - &gt;   S o m e   &quot; A r r a y s   m u s t   n o t   b e   n u l l . &quot; 
 
                                                         |   _   - &gt;   N o n e 
 
                                                 f u n   ( a ,   b )   - &gt; 
 
                                                         i f   a . L e n g t h   =   b . L e n g t h   t h e n 
 
                                                                 N o n e 
 
                                                         e l s e 
 
                                                                 S o m e   &lt; |   s p r i n t f   &quot; A r r a y s   m u s t   h a v e   s a m e   l e n g t h   b u t   P e r s o n . F a v o r i t e s   h a s   % i   a n d   P e r s o n . F a v o r i t e N u m b e r s   h a s   % i &quot;   a . L e n g t h   b . L e n g t h 
 
                                                 ] 
 
                                         ) 
 
                                 ] 
 
         s t a t i c   m e m b e r   V a l i d a t e   a   = 
 
                 p r o v e   &lt; |   O b j e c t   ( &lt; @   a   @ &gt; ,   t r u e ,   P e r s o n . P r o o f ) 
 
 
 
 l e t   j o n   =   { 
 
         N a m e   =   {   F i r s t   =   &quot; J o n &quot; ;   L a s t   =   &quot; N y m a n 1 &quot;   } 
 
         B i r t h D a t e   =   n e w   D a t e T i m e ( 1 9 4 7 ,   9 ,   9 ) 
 
         F a v o r i t e s   =   [ |   &quot; R e a d i n g &quot; ;   &quot; R e d &quot; ;     &quot; W r i t i n g &quot;   | ] 
 
         F a v o r i t e N u m b e r s   =   [ |   1   | ] 
 
         } 
 
 
 
 j o n 
 
 | &gt;   v a l i d a t e   P e r s o n . V a l i d a t e 
 
 / /   | &gt;   . . . . 
 
 
 
 / /   O R 
 
 j o n 
 
 | &gt;   v a l i d a t e   ( f u n   a   - &gt;   p r o v e   &lt; |   O b j e c t   ( &lt; @   a   @ &gt; ,   t r u e ,   P e r s o n . P r o o f ) ) 
 
 
 
 </code> <code> </code> 
 
 w h e r e   <code> p r o v e </code>   i s 
 
 
 
 <code> </code> <code> f s h a r p 
 
 l e t   r e c   p r o v e   v a l i d a t i o n   = 
 
         m a t c h   v a l i d a t i o n   w i t h 
 
         |   P r i m i t i v e   ( v ,   r e q u i r e d ,   f s )   - &gt; 
 
                 m a t c h   r e q u i r e d ,   g e t V a l u e   v   w i t h 
 
                 |   t r u e ,   N o n e   - &gt;   S o m e   [ s p r i n t f   &quot; T h e   v a l u e   </code> % s <code>   i s   r e q u i r e d   b u t   w a s   f o u n d   t o   b e   </code> n u l l <code> . &quot;   v . T y p e . N a m e ] 
 
                 |   f a l s e ,   N o n e   - &gt;   N o n e 
 
                 |   _ ,   S o m e   v a l u e   - &gt; 
 
                         f s 
 
                         | &gt;   L i s t . f o l d   ( f u n   a c c   f   - &gt; 
 
                                 m a t c h   a c c   w i t h 
 
                                 |   N o n e   - &gt;   f   v a l u e 
 
                                 |   S o m e   _   - &gt;   a c c 
 
                                 )   N o n e 
 
                         | &gt;   O p t i o n . m a p   ( f u n   x   - &gt;   [ p r i n t P a r a m e t e r W i t h   &quot;   -   &quot;   v   +   x ]   ) 
 
         |   O b j e c t   ( v ,   r e q u i r e d ,   f )   - &gt; 
 
                 m a t c h   r e q u i r e d ,   g e t V a l u e   v   w i t h 
 
                 |   t r u e ,   N o n e   - &gt;   S o m e   [ s p r i n t f   &quot; T h e   o b j e c t   </code> % s <code>   i s   r e q u i r e d   b u t   w a s   f o u n d   t o   b e   </code> n u l l <code> . &quot;   ( g e t O r E l s e   &quot; U n k n o w n   P a r a m e t e r &quot;   &lt; |   g e t P a r a m e t e r N a m e   v ) ] 
 
                 |   f a l s e ,   N o n e   - &gt;   N o n e 
 
                 |   _ ,   S o m e   x   - &gt; 
 
                         f   x 
 
                         | &gt;   L i s t . f o l d   ( 
 
                                 f u n   a c c   o p t i o n   - &gt; 
 
                                 m a t c h   o p t i o n ,   a c c   w i t h 
 
                                 |   S o m e   n e w E r r o r ,   S o m e   e r r o r   - &gt;   S o m e   ( L i s t . a p p e n d   e r r o r   n e w E r r o r ) 
 
                                 |   S o m e   n e w E r r o r ,   N o n e   - &gt;   S o m e   n e w E r r o r 
 
                                 |   N o n e ,   S o m e   e r r o r   - &gt;   S o m e   e r r o r 
 
                                 |   N o n e ,   N o n e   - &gt;   N o n e 
 
                                 )   N o n e 
 
         |   A r r a y   ( v s ,   r e q u i r e d ,   p r o o f ,   p r o v e I t e m s )   - &gt;   
 
                 m a t c h   r e q u i r e d ,   g e t V a l u e   v s   w i t h 
 
                 |   t r u e ,   N o n e   - &gt;   S o m e   [ s p r i n t f   &quot; % s :   % s &quot;   ( g e t O r E l s e   &quot; U n k n o w n   P a r a m e t e r &quot;   &lt; |   g e t P a r a m e t e r N a m e   v s )   &quot; T h i s   a r r a y   i s   r e q u i r e d . &quot; ] 
 
                 |   f a l s e ,   N o n e   - &gt;   N o n e 
 
                 |   _ ,   S o m e   x s   - &gt; 
 
                         l e t   v a l i d S e l f   = 
 
                                 p r o o f 
 
                                 | &gt;   L i s t . f o l d   ( f u n   a c c   f   - &gt; 
 
                                         m a t c h   a c c   w i t h 
 
                                         |   N o n e   - &gt;   f   x s 
 
                                         |   S o m e   _   - &gt;   a c c 
 
                                 )   N o n e 
 
                         m a t c h   v a l i d S e l f ,   o b j . E q u a l s ( v s ,   n u l l )   w i t h 
 
                         |   S o m e   e r r o r ,   _   - &gt;   
 
                                 S o m e   [ ( p r i n t P a r a m e t e r W i t h   &quot; :   &quot;   v s )   +   e r r o r ] 
 
                         |   _ ,   t r u e   - &gt; 
 
                                 N o n e 
 
                         |   N o n e ,   f a l s e   - &gt; 
 
                                 x s 
 
                                 | &gt;   A r r a y . f o l d   ( f u n   ( i ,   a c c )   x   - &gt; 
 
                                         l e t   i   =   i   +   1 
 
                                         m a t c h   ( p r o v e   ( p r o v e I t e m s   x )   ) ,   a c c   w i t h 
 
                                         |   S o m e   n e w E r r o r ,   S o m e   e r r o r   - &gt;   
 
                                                 ( i ,   S o m e   &lt; |   L i s t . a p p e n d   e r r o r   [ p r e t t y I n d e x   i   n e w E r r o r ] ) 
 
                                         |   S o m e   n e w E r r o r ,   N o n e   - &gt;   ( i ,   S o m e   [ p r e t t y I n d e x   i   n e w E r r o r ] ) 
 
                                         |   N o n e ,   S o m e   e r r o r   - &gt;   ( i ,   S o m e   e r r o r ) 
 
                                         |   N o n e ,   N o n e   - &gt;   ( i ,   N o n e ) 
 
                                 )   ( - 1 ,   N o n e ) 
 
                                 | &gt;   s n d 
 
                                 | &gt;   O p t i o n . m a p   ( f u n   x s   - &gt;   ( p r i n t P a r a m e t e r W i t h   &quot; : &quot;   v s ) : : x s ) 
 
         |   R a w   ( a ,   m s g ,   f s )   - &gt; 
 
                 f s 
 
                 | &gt;   L i s t . f o l d   ( f u n   a c c   f   - &gt; 
 
                         m a t c h   a c c   w i t h 
 
                         |   N o n e   - &gt;   f   a 
 
                         |   S o m e   _   - &gt;   a c c 
 
                         )   N o n e 
 
                 | &gt;   O p t i o n . m a p   ( f u n   x   - &gt;   [ m s g + &quot;   -   &quot; + x ]   ) 
 
 </code> <code> </code> 
 
 
 
 A n d   <code> v a l i d a t e </code>   i s : 
 
 
 
 <code> </code> <code> f s h a r p 
 
 l e t   v a l i d a t e   f   a   = 
 
         m a t c h   f   a   w i t h 
 
         |   S o m e   x s   - &gt;   C h o i c e 1 O f 2   &lt; |   S t r i n g . c o n c a t   &quot; \ n &quot;   x s 
 
         |   N o n e   - &gt;   C h o i c e 2 O f 2   a 
 
 </code> <code> </code> 
 
 
 
 A n d   <code> V a l i d a t e </code>   i s : 
 
 
 
 <code> </code> <code> f s h a r p 
 
 t y p e   V a l i d a t e &lt; ' a &gt;   = 
 
         |   O b j e c t   o f 
 
                 v a l u e   :   E x p r &lt; ' a &gt;   * 
 
                 r e q u i r e d   :   b o o l   * 
 
                 p r o o f   :   ( ' a   - &gt;   ( s t r i n g   l i s t   o p t i o n )   l i s t ) 
 
         |   A r r a y   o f 
 
                 v a l u e   :   E x p r &lt; ' a [ ] &gt;   * 
 
                 r e q u i r e d   :   b o o l   * 
 
                 p r o o f   :   ( ' a [ ]   - &gt;   s t r i n g   O p t i o n )   l i s t   * 
 
                 p r o v e I t e m s   :   ( ' a   - &gt;   V a l i d a t e &lt; ' a &gt; ) 
 
         |   P r i m i t i v e   o f 
 
                 v a l u e   :   E x p r &lt; ' a &gt;   * 
 
                 r e q u i r e d   :   b o o l   * 
 
                 p r o o f   :   ( ' a   - &gt;   s t r i n g   O p t i o n )   l i s t 
 
         |   R a w   o f 
 
                 v a l u e   :   ' a   * 
 
                 m e s s a g e   :   s t r i n g   * 
 
                 p r o o f   :   ( ' a   - &gt;   s t r i n g   O p t i o n )   l i s t 
 
 </code> <code> </code> 
 
 
 
 O t h e r   F #   v a l i d a t i o n   l i b r a r i e s   ( t h a t   I   k n o w   o f ) . 
 
 
 
 h t t p : / / f s h a r p f o r f u n a n d p r o f i t . c o m / p o s t s / r e c i p e - p a r t 2 / 
 
 </p>

      </article>

      <ul class="pager blog-pager">
        
          <li class="previous">
            <a href="http://jnyman.com/1/01/01/why_udf_array_functions_are_faster/" data-toggle="tooltip" data-placement="top" title="">&larr; Previous Post</a>
          </li>
        
        
          <li class="next">
            <a href="http://jnyman.com/1/01/01/using_pivot_tables_as_a_staging_resource/" data-toggle="tooltip" data-placement="top" title="">Next Post &rarr;</a>
          </li>
        
      </ul>

      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="https://github.com/jon49" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/NymanJon" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/eenyman" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
        </ul>
        <p class="credits copyright text-muted">
          Jon Nyman
          &nbsp;&bull;&nbsp;
          2012

          
            &nbsp;&bull;&nbsp;
            <a href="http://jnyman.com/">JNyman.com</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.25.1</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="http://jnyman.com/js/main.js"></script>
<script src="http://jnyman.com/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>
<script src="/js/load-photoswipe.js"></script>



  </body>
</html>

